# RWA å€Ÿè´·å¹³å°æ™ºèƒ½åˆçº¦ä»“åº“

è¿™æ˜¯ RWAï¼ˆç°å®ä¸–ç•Œèµ„äº§ï¼‰å€Ÿè´·å¹³å°çš„ç‹¬ç«‹æ™ºèƒ½åˆçº¦ä»“åº“ï¼ŒåŒ…å«å®Œæ•´çš„æ™ºèƒ½åˆçº¦æºä»£ç ã€æµ‹è¯•ã€éƒ¨ç½²è„šæœ¬å’Œæ–‡æ¡£ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬ä»“åº“åŒ…å« RWA å€Ÿè´·å¹³å°çš„æ‰€æœ‰æ™ºèƒ½åˆçº¦å®ç°ï¼Œé‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œé€šè¿‡ Registry ç³»ç»Ÿå®ç°ç»Ÿä¸€çš„æ¨¡å—ç®¡ç†å’Œå‡çº§èƒ½åŠ›ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **æ¨¡å—åŒ–æ¶æ„**ï¼šæ‰€æœ‰åŠŸèƒ½æ¨¡å—é€šè¿‡ Registry ç³»ç»Ÿç»Ÿä¸€ç®¡ç†
- **åŒæ¶æ„è®¾è®¡**ï¼šäº‹ä»¶é©±åŠ¨æ¶æ„ + View å±‚ç¼“å­˜æ¶æ„ï¼Œä¼˜åŒ– Gas æˆæœ¬
- **å¯å‡çº§æ€§**ï¼šä½¿ç”¨ UUPS ä»£ç†æ¨¡å¼ï¼Œæ”¯æŒåˆçº¦å‡çº§
- **æƒé™æ§åˆ¶**ï¼šç»Ÿä¸€çš„ AccessControlManager æƒé™ç®¡ç†ç³»ç»Ÿ
- **æ ‡å‡†åŒ–**ï¼šä½¿ç”¨ ModuleKeys å’Œ ActionKeys è¿›è¡Œæ ‡å‡†åŒ–æ ‡è¯†
- **å®Œæ•´æµ‹è¯•**ï¼šå…¨é¢çš„æµ‹è¯•å¥—ä»¶ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

## ğŸ“ é¡¹ç›®ç»“æ„

```
contracts/
â”œâ”€â”€ src/                    # æ™ºèƒ½åˆçº¦æºä»£ç 
â”‚   â”œâ”€â”€ access/            # è®¿é—®æ§åˆ¶æ¨¡å—
â”‚   â”œâ”€â”€ constants/         # å¸¸é‡å®šä¹‰ï¼ˆModuleKeys, ActionKeysç­‰ï¼‰
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒä¸šåŠ¡åˆçº¦ï¼ˆä»·æ ¼é¢„è¨€æœºç­‰ï¼‰
â”‚   â”œâ”€â”€ errors/            # æ ‡å‡†é”™è¯¯å®šä¹‰
â”‚   â”œâ”€â”€ Governance/        # æ²»ç†æ¨¡å—
â”‚   â”œâ”€â”€ interfaces/        # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ libraries/         # å…±äº«åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ Mocks/             # æµ‹è¯•ç”¨ Mock åˆçº¦
â”‚   â”œâ”€â”€ monitor/           # ç³»ç»Ÿç›‘æ§æ¨¡å—
â”‚   â”œâ”€â”€ registry/          # Registry æ¨¡å—æ³¨å†Œç³»ç»Ÿ
â”‚   â”œâ”€â”€ Reward/            # å¥–åŠ±ç³»ç»Ÿ
â”‚   â”œâ”€â”€ strategies/        # ç­–ç•¥åˆçº¦
â”‚   â”œâ”€â”€ Token/             # ä»£å¸åˆçº¦
â”‚   â”œâ”€â”€ utils/             # å·¥å…·åº“
â”‚   â””â”€â”€ Vault/             # é‡‘åº“ç³»ç»Ÿï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼‰
â”‚       â”œâ”€â”€ liquidation/   # æ¸…ç®—æ¨¡å—
â”‚       â”œâ”€â”€ modules/       # ä¸šåŠ¡æ¨¡å—
â”‚       â””â”€â”€ view/          # è§†å›¾æ¨¡å—
â”œâ”€â”€ test/                  # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ scripts/               # éƒ¨ç½²å’Œå·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ deploy/           # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ checks/            # æ£€æŸ¥è„šæœ¬
â”‚   â”œâ”€â”€ docs/             # æ–‡æ¡£ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ tasks/            # Hardhat ä»»åŠ¡
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ Usage-Guide/      # ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ Test-Guide/       # æµ‹è¯•æŒ‡å—
â”œâ”€â”€ deployments/           # éƒ¨ç½²åœ°å€å’Œé…ç½®
â”œâ”€â”€ configs/               # é…ç½®æ–‡ä»¶
â””â”€â”€ hardhat.config.ts      # Hardhat é…ç½®
```

## ğŸ—ï¸ æ ¸å¿ƒæ¨¡å—

### 1. Registry ç³»ç»Ÿ
æ¨¡å—æ³¨å†Œä¸­å¿ƒï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ¨¡å—åœ°å€å’Œå‡çº§æµç¨‹ã€‚

### 2. Vault ç³»ç»Ÿ
é‡‘åº“ç³»ç»Ÿï¼Œç®¡ç†æŠµæŠ¼ç‰©ã€å€Ÿè´·ã€è¿˜æ¬¾ç­‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…æ‹¬ï¼š
- **æ ¸å¿ƒåˆçº¦**ï¼šVaultCoreã€VaultRouterã€VaultStorageã€VaultRouter
- **ä¸šåŠ¡æ¨¡å—**ï¼šCollateralManagerã€LendingEngineã€GuaranteeFundManager ç­‰
- **æ¸…ç®—æ¨¡å—**ï¼šå®Œæ•´çš„æ¸…ç®—ç³»ç»Ÿï¼ŒåŒ…å«é£é™©ç®¡ç†ã€å¥–åŠ±åˆ†é…ç­‰
- **è§†å›¾æ¨¡å—**ï¼š20+ ä¸ªè§†å›¾æ¨¡å—ï¼Œæä¾›å¿«é€Ÿå…è´¹æŸ¥è¯¢

### 3. Reward ç³»ç»Ÿ
å¥–åŠ±ç§¯åˆ†ç³»ç»Ÿï¼Œç®¡ç†ç”¨æˆ·ç§¯åˆ†ã€æ¶ˆè´¹å’Œç‰¹æƒã€‚

### 4. Core æ¨¡å—
æ ¸å¿ƒä¸šåŠ¡åˆçº¦ï¼ŒåŒ…æ‹¬ä»·æ ¼é¢„è¨€æœºã€æ‰‹ç»­è´¹è·¯ç”±ç­‰ã€‚

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒ [docs/PlatformLogic.md](./docs/PlatformLogic.md) å’Œ [src/README.md](./src/README.md)ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: v18 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm** æˆ– **yarn**
- **Hardhat**: å·²åŒ…å«åœ¨ä¾èµ–ä¸­

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š
```bash
cp .env.template .env
```

2. å¡«å†™å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š
   - RPC URLsï¼ˆArbitrumã€Arbitrum Sepolia ç­‰ï¼‰
   - ç§é’¥ï¼ˆç”¨äºéƒ¨ç½²å’Œæµ‹è¯•ï¼‰
   - å…¶ä»–é…ç½®é¡¹

### ç¼–è¯‘åˆçº¦

```bash
npm run compile
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆ Gas æŠ¥å‘Š
npm run gas

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run coverage
```

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æœ¬åœ° Hardhat èŠ‚ç‚¹
npm run node

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ
npm run deploy:localhost
```

## ğŸ“œ å¯ç”¨è„šæœ¬

### å¼€å‘è„šæœ¬

- `npm run compile` - ç¼–è¯‘æ™ºèƒ½åˆçº¦
- `npm run test` - è¿è¡Œæµ‹è¯•å¥—ä»¶
- `npm run node` - å¯åŠ¨æœ¬åœ° Hardhat èŠ‚ç‚¹
- `npm run deploy:localhost` - éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ
- `npm run coverage` - ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- `npm run gas` - è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆ Gas æŠ¥å‘Š

### ä»£ç è´¨é‡

- `npm run lint:sol` - æ£€æŸ¥ Solidity ä»£ç è§„èŒƒ
- `npm run format:sol` - æ ¼å¼åŒ– Solidity ä»£ç 
- `npm run format:check:sol` - æ£€æŸ¥ä»£ç æ ¼å¼
- `npm run size` - æ£€æŸ¥åˆçº¦å¤§å°

### æ–‡æ¡£ç”Ÿæˆ

- `npm run docs` - ç”Ÿæˆ Solidity æ–‡æ¡£
- `npm run docs:abi` - ç”Ÿæˆ ABI æ–‡æ¡£
- `npm run docs:errors` - ç”Ÿæˆé”™è¯¯æ–‡æ¡£
- `npm run docs:all` - ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£

### æ£€æŸ¥è„šæœ¬

- `npm run checks:run-all` - è¿è¡Œæ‰€æœ‰æ£€æŸ¥
- `npm run checks:env` - æ£€æŸ¥ç¯å¢ƒå˜é‡
- `npm run checks:keys` - æ£€æŸ¥æ¨¡å—é”®é…ç½®
- `npm run checks:roles` - æ£€æŸ¥è§’è‰²æƒé™
- `npm run checks:registry` - æ£€æŸ¥ Registry é…ç½®
- `npm run ci:check` - CI æ£€æŸ¥

### æ¸…ç†è„šæœ¬

- `npm run clean` - æ¸…ç† Hardhat ç¼“å­˜
- `npm run clean:all` - æ¸…ç†æ‰€æœ‰ç¼“å­˜
- `npm run clean:hardhat` - æ¸…ç† Hardhat ç¼“å­˜

### CLI å·¥å…·

- `npm run cli` - è¿è¡Œ CLI å·¥å…·ï¼ˆäº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼‰

## ğŸŒ æ”¯æŒçš„ç½‘ç»œ

- **localhost**: æœ¬åœ°å¼€å‘ç½‘ç»œï¼ˆHardhat èŠ‚ç‚¹ï¼‰
- **arbitrum**: Arbitrum One ä¸»ç½‘
- **arbitrumSepolia**: Arbitrum Sepolia æµ‹è¯•ç½‘

## ğŸ“š æ–‡æ¡£

é¡¹ç›®åŒ…å«å®Œæ•´çš„æ–‡æ¡£ç³»ç»Ÿï¼Œä½äº `docs/` ç›®å½•ï¼š

- **[å¹³å°é€»è¾‘è¯´æ˜](./docs/PlatformLogic.md)** - ç³»ç»Ÿæ¶æ„å’Œæ ¸å¿ƒé€»è¾‘
- **[æ¶æ„æŒ‡å—](./docs/Architecture-Guide.md)** - æ¶æ„è®¾è®¡è¯´æ˜
- **[ä½¿ç”¨æŒ‡å—](./docs/Usage-Guide/)** - å„æ¨¡å—ä½¿ç”¨æŒ‡å—
- **[æµ‹è¯•æŒ‡å—](./docs/Test-Guide/)** - æµ‹è¯•ç›¸å…³æ–‡æ¡£
- **[æ™ºèƒ½åˆçº¦æ ‡å‡†](./docs/SmartContractStandard.md)** - å¼€å‘è§„èŒƒ

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Solidity**: 0.8.20
- **Hardhat**: å¼€å‘æ¡†æ¶
- **TypeScript**: æµ‹è¯•å’Œè„šæœ¬è¯­è¨€
- **OpenZeppelin**: å®‰å…¨åˆçº¦åº“
- **Ethers.js**: ä»¥å¤ªåŠäº¤äº’åº“

## ğŸ” å®‰å…¨ç‰¹æ€§

- UUPS å¯å‡çº§ä»£ç†æ¨¡å¼
- ç»Ÿä¸€çš„æƒé™ç®¡ç†ç³»ç»Ÿï¼ˆACMï¼‰
- èµ„äº§ç™½åå•æœºåˆ¶
- ä»·æ ¼é¢„è¨€æœºé›†æˆ
- å®Œæ•´çš„æ¸…ç®—æœºåˆ¶
- SafeERC20 å®‰å…¨è½¬è´¦

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestã€‚åœ¨è´¡çŒ®ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯•
2. éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ å¾®ä¿¡ç¾¤ æˆ– Telegramå·¥ä½œç¾¤ è”ç³»ã€‚

---

**æ³¨æ„**ï¼šéƒ¨ç½²åˆ°ä¸»ç½‘å‰ï¼Œè¯·åŠ¡å¿…è¿›è¡Œå……åˆ†æµ‹è¯•å’Œå®‰å…¨å®¡è®¡ã€‚
