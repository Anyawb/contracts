# Registry ç³»ç»Ÿéƒ¨ç½²æ–‡æ¡£
# Registry System Deployment Documentation

## ğŸ“‹ éƒ¨ç½²æ¦‚è§ˆ Deployment Overview

ç”Ÿæˆæ—¶é—´ Generated at: 2025-08-18T14:09:29.030Z

## ğŸ—ï¸ éƒ¨ç½²çš„åˆçº¦ Deployed Contracts

- **Registry**: `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512`
- **RegistryUpgradeManager**: `0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9`
- **RegistryCore**: `0x5FC8d32690cc91D4c39d9d3abcBD16989F875707`
- **RegistryAdmin**: `0xa513E6E4b8f2a923D98304ec87F64353C4D5C853`
- **RegistrySignatureManager**: `0x8A791620dd6260079BF849Dc5567aDC3F2FdC318`

## ğŸ”§ ç³»ç»Ÿæ¶æ„ System Architecture

### æ ¸å¿ƒç»„ä»¶ Core Components

1. **Registry** - ä¸»æ³¨å†Œåˆçº¦ï¼Œæä¾›ç»Ÿä¸€çš„æ¨¡å—åœ°å€ç®¡ç†å…¥å£
2. **RegistryCore** - æ ¸å¿ƒåŠŸèƒ½åˆçº¦ï¼Œå¤„ç†åŸºç¡€çš„æ¨¡å—æŸ¥è¯¢å’Œç®¡ç†
3. **RegistryAdmin** - ç®¡ç†åŠŸèƒ½åˆçº¦ï¼Œå¤„ç†æƒé™å’Œç³»ç»Ÿå‚æ•°ç®¡ç†

5. **RegistrySignatureManager** - ç­¾åç®¡ç†åˆçº¦ï¼Œæ”¯æŒ EIP-712 ç­¾åæˆæƒ
6. **RegistryUpgradeManager** - å‡çº§ç®¡ç†åˆçº¦ï¼Œå¤„ç†å»¶æ—¶å‡çº§å’Œå†å²è®°å½•

### åº“æ–‡ä»¶ Library Files

- **RegistryStorage** - å­˜å‚¨ç»“æ„å®šä¹‰åº“
- **RegistryQuery** - æŸ¥è¯¢åŠŸèƒ½åº“
- **RegistryEvents** - äº‹ä»¶å®šä¹‰åº“

## âš™ï¸ é…ç½®å‚æ•° Configuration Parameters

- **å»¶æ—¶çª—å£**: 2 å¤© (172800 ç§’)
- **æœ€å¤§å»¶æ—¶**: 7 å¤© (604800 ç§’)
- **Owner**: å·²è®¾ç½®

## ğŸ” éªŒè¯ç»“æœ Verification Results

æ‰€æœ‰ Registry ç³»ç»Ÿåˆçº¦å·²æˆåŠŸéƒ¨ç½²å¹¶é€šè¿‡åŠŸèƒ½éªŒè¯ã€‚

## ğŸ“ ä½¿ç”¨è¯´æ˜ Usage Instructions

### åŸºç¡€æŸ¥è¯¢ Basic Queries

```solidity
// è·å–æ¨¡å—åœ°å€
address moduleAddr = registry.getModule(moduleKey);

// æ£€æŸ¥æ¨¡å—æ˜¯å¦å·²æ³¨å†Œ
bool isRegistered = registry.isModuleRegistered(moduleKey);

// è·å–æ‰€æœ‰æ”¯æŒçš„æ¨¡å—é”®
bytes32[] memory allKeys = registry.getAllModuleKeys();
```

### æ¨¡å—ç®¡ç† Module Management

```solidity
// è®¾ç½®æ¨¡å—åœ°å€ï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰
registry.setModule(moduleKey, newAddress, allowReplace);

// è®¡åˆ’æ¨¡å—å‡çº§ï¼ˆå»¶æ—¶æ‰§è¡Œï¼‰
registry.scheduleModuleUpgrade(moduleKey, newAddress);

// æ‰§è¡Œå»¶æ—¶å‡çº§
registry.executeModuleUpgrade(moduleKey);
```

### å‡çº§å†å² Upgrade History

```solidity
// è·å–å‡çº§å†å²æ•°é‡
uint256 count = registry.getUpgradeHistoryCount(moduleKey);

// è·å–ç‰¹å®šå†å²è®°å½•
(address oldAddr, address newAddr, uint256 timestamp, address executor) = 
    registry.getUpgradeHistory(moduleKey, index);
```

## ğŸ” æƒé™ç®¡ç† Permission Management

- **Owner**: æ‹¥æœ‰æ‰€æœ‰ç®¡ç†æƒé™
- **å»¶æ—¶å‡çº§**: éœ€è¦ç­‰å¾…æŒ‡å®šæ—¶é—´åæ‰èƒ½æ‰§è¡Œ
- **ç­¾åæˆæƒ**: æ”¯æŒ EIP-712 ç­¾åè¿›è¡Œæ¨¡å—å‡çº§æˆæƒ

## ğŸ“Š éƒ¨ç½²ç»Ÿè®¡ Deployment Statistics

- æ€»åˆçº¦æ•°é‡: 5
- å¯å‡çº§åˆçº¦: 5
- åº“æ–‡ä»¶: 3 ä¸ª

## ğŸš€ ä¸‹ä¸€æ­¥ Next Steps

1. é…ç½®å…¶ä»–æ¨¡å—åˆ° Registry
2. è®¾ç½®æƒé™å’Œè§’è‰²
3. æµ‹è¯•å®Œæ•´åŠŸèƒ½
4. éƒ¨ç½²åˆ°æµ‹è¯•ç½‘

---

*æœ¬æ–‡æ¡£ç”±éƒ¨ç½²è„šæœ¬è‡ªåŠ¨ç”Ÿæˆ*
*This document is auto-generated by deployment script*
